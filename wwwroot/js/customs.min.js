function RecuperarQtdNotificacoes(n,t,i,r,u){i=i+"/GetTotalNotificacoes";var f={idUsuario:t,idUORG:r,idInstituicao:u,idSistema:n};$.ajax({type:"POST",url:i,data:JSON.stringify(f),success:function(n){AtualizaQtdNotificacoes(n)},dataType:"json",contentType:"application/json; charset=utf-8",crossdomain:!0,error:function(){$("#qtNotificacoes").html("<span class='badge bg-warning'>?<\/span>")}})}function carregarNotificacoes(){var r;if($("#hidden_notificacoes_Sistema").length>=1){$("#notificacoes_content").html("<ul class='list-group alt' style='max-height: 300px; overflow-y:auto'><li class='list-group-item'><div class='message'><div class='text-center'><div class='block m-b'><i class='fa fa-spinner fa-3x fa-spin' style='margin-top: 15px;'><\/i><\/div><\/div><\/div><\/li><\/ul>");var n=$("#hidden_notificacoes_Servico").val(),u=$("#hidden_notificacoes_Usuario").val(),f=$("#hidden_notificacoes_Sistema").val(),t=$("#hidden_notificacoes_UORG").val(),i=$("#hidden_notificacoes_Instituicao").val();i==""&&(i=null);t==""&&(t=null);n=n+"/GetNotificacoesHTML";r={idUsuario:u,idUORG:t,idInstituicao:i,idSistema:f};$.ajax({type:"POST",url:n,data:JSON.stringify(r),success:function(n){n!=null?$("#notificacoes_content").html(n):$("#notificacoes_content").html("Não existem notificações")},dataType:"html",contentType:"application/json; charset=utf-8",crossdomain:!0,error:function(){$("#notificacoes_content").html("<ul class='list-group alt' style='max-height: 300px; overflow-y:auto'><li class='list-group-item'><div class='message'><div class='text-center text-warning'><div class='block m-b'><i class='fa fa-exclamation-triangle fa-2x' style='margin-top: 15px;'><\/i><\/div><h5 class='text-dark'>Serviço de notificações indisponível no momento.<\/h5><\/div><\/div><\/li><\/ul>")}})}}function AdiarNotificacao(n,t){var i=JSON.parse(t.replace(/æ/g,'"'));$("#OpcoesAdiamentoNotificacao").html("Selecione uma das opções abaixo para adiar essa notificação:");$.each(i.Adiamento,function(){$("#OpcoesAdiamentoNotificacao").append("<div class='radio i-checks'><label><input type='radio' name='radio_OpcoesAdiarNotificacao' value='"+this.dias+"' "+(this.selecionada!=null?"checked=''":"")+"'><i><\/i> "+this.alias+"<\/label><\/div>");console.log(this.selecionada)});$("#hidden_Notificacao_Selecionada").val(n);$("#ModalAdiarNotificacao").modal("toggle")}function AdiarNotificacaoSelecionada(){var n=$("#hidden_notificacoes_Servico").val(),u=$("#hidden_notificacoes_Usuario").val(),t=$("input[name=radio_OpcoesAdiarNotificacao]:checked").val(),i=$("#hidden_Notificacao_Selecionada").val(),r;t!=null&&i!=null&&(n=n+"/AdiarNotificacao",r={idNotificacao:i,idUsuario:u,qtdDias:t},$.ajax({type:"POST",url:n,data:JSON.stringify(r),success:function(n){n.Codigo==1?app.callMsg(n.Mensagem,"Sucesso"):app.callMsg(n.Mensagem,"Erro")},dataType:"json",contentType:"application/json; charset=utf-8",crossdomain:!0,error:function(n){app.callMsg("Ocorreu um erro de comunicação com o serviço de notificações. "+n,"Erro")}}))}function AtualizaQtdNotificacoes(n){$("#qtNotificacoes").html("");n!=null&&(n.Total>0?$("#qtNotificacoes").append("<span class='badge bg-danger notificacao-text'>"+n.Total+"<\/span>"):$("#qtNotificacoes").html(""))}function RemoverNotificacao(n){var t=$("#hidden_notificacoes_Servico").val(),u=$("#hidden_notificacoes_Usuario").val(),i=n,r;i!=null&&(t=t+"/ExcluirNotificacao",r={idNotificacao:i,idUsuario:u},$.ajax({type:"POST",url:t,data:JSON.stringify(r),success:function(n){n.Codigo==1?app.callMsg(n.Mensagem,"Sucesso"):app.callMsg(n.Mensagem,"Erro")},dataType:"json",contentType:"application/json; charset=utf-8",crossdomain:!0,error:function(n){app.callMsg("Ocorreu um erro de comunicação com o serviço de notificações. "+n,"Erro")}}))}function AbrirUrlNotificacao(n,t){document.location.href=t+"&n="+n}function AbrirModalConsultarNotificacoes(){$("#ModalListaNotificacao").modal("toggle")}function LimparMinhasNotificacoes(){$("#notificacoes_Modal_P_Criticidade").val("0");$("#notificacoes_Modal_P_DataInicio").val("");$("#notificacoes_Modal_P_DataFim").val("");$("#gridConsultaNotificacaoDT").hide();$("#notificacoes_Modal_P_IdcAtivo")[0].checked&&$("#notificacoes_Modal_P_IdcAtivo").click()}function ConsultarMinhasNotificacoes(){var n=$("#hidden_notificacoes_Servico").val(),u=$("#hidden_notificacoes_Usuario").val(),f=$("#hidden_notificacoes_Sistema").val(),t=$("#hidden_notificacoes_UORG").val(),i=$("#hidden_notificacoes_Instituicao").val(),r;i==""&&(i=null);t==""&&(t=null);var s=$("#notificacoes_Modal_P_Criticidade").val()!=""?$("#notificacoes_Modal_P_Criticidade").val():null,c=$("#notificacoes_Modal_P_DataInicio").val(),l=$("#notificacoes_Modal_P_DataFim").val(),e=$("#notificacoes_Modal_P_DataInicio").val()!=""?convertToJSONDate(inverterDataBR($("#notificacoes_Modal_P_DataInicio").val())):null,o=$("#notificacoes_Modal_P_DataFim").val()!=""?convertToJSONDate(inverterDataBR($("#notificacoes_Modal_P_DataFim").val())):null,h=$("#notificacoes_Modal_P_IdcAtivo")[0].checked?"S":"N";u!=null&&f!=null&&(e>o?app.callMsg("A data inicial precisa ser menor que a data final.","Erro"):(n=n+"/GetAllNotificacoesPesquisa",r={idUsuario:u,idInstituicao:i,idUorg:t,idSistema:f,idcAtivo:h,idCriticidade:s,DtIncio:e,DtFim:o,idEmail:$("#notificacoes_Modal_P_Email").val()},console.log(r),$("#gridConsultaNotificacaoDT").show(),$("#notificacoes_GridResult").html("<tr role='row' class='odd'><td colspan='4'><center><i class='fa fa-spinner fa-2x fa-spin' style='margin-left: 0;'><\/i><\/center><\/td><\/tr>"),$.ajax({type:"POST",url:n,data:JSON.stringify(r),success:function(n){n.length>0?($("#notificacoes_GridResult").html(""),$.each(n,function(){var n="",t;switch(this.IdeCriticidade){case 1:n="<div class='text-primary m-t-sm' data-toggle='tooltip' title='' data-original-title='Baixa'><i class='fa fa-square'><\/i><\/div>";break;case 2:n="<div class='text-warning m-t-sm' data-toggle='tooltip' title='' data-original-title='Média'><i class='fa fa-square'><\/i><\/div>";break;case 3:n="<div class='text-danger m-t-sm' data-toggle='tooltip' title='' data-original-title='Alta'><i class='fa fa-square'><\/i><\/div>";break;case 4:n="<div class='text-dark m-t-sm' data-toggle='tooltip' title='' data-original-title='Crítica'><i class='fa fa-square'><\/i><\/div>";break;default:n="<div class='text-primary m-t-sm' data-toggle='tooltip' title='' data-original-title='Baixa'><i class='fa fa-square'><\/i><\/div>"}t="";t=this.ListEmail.length>0?"<div class='text-success' data-toggle='tooltip' title='' data-original-title='"+this.Email+"' ><i class='fa fa-check'><\/i><\/div>":"<div class='text-danger' ><i class='fa fa-times'><\/i><\/div>";$("#notificacoes_GridResult").append("<tr role='row' class='odd'><td>"+this.DscNotificacao+"<\/td><td><center>"+convertData(this.DatInicio)+"<\/center><\/td><td><center>"+convertData(this.DatFim)+"<\/center><\/td><td><center>"+n+"<\/center><\/td><td><center>"+t+"<\/center><\/td><\/tr>")}),$("body").tooltip({selector:'[data-toggle="tooltip"]'})):$("#notificacoes_GridResult").html("<tr role='row' class='odd'><td colspan='4'>Nenhum resultado encontrado<\/td><\/tr>")},dataType:"json",contentType:"application/json; charset=utf-8",crossdomain:!0,error:function(n){app.callMsg("Ocorreu um erro de comunicação com o serviço de notificações. "+n,"Erro")}})))}function carregaChangeLogs(){$.ajax({type:"GET",url:"/Home/CarregarChangeLog",success:function(n){$("#divChangeLog").html(n)},dataType:"html",contentType:"application/json; charset=utf-8",crossdomain:!0,error:function(){$("#divChangeLog").html("Esse sistema ainda não possui esse recurso.")}})}function FullScreenToggle(){$("#nav.bg-white.aside-md.hidden-print").is(":visible")?($("#fs-toggle").addClass("fa-compress").removeClass("fa-expand"),$("#nav.bg-white.aside-md.hidden-print").hide()):($("#fs-toggle").addClass("fa-expand").removeClass("fa-compress"),$("#nav.bg-white.aside-md.hidden-print").show())}function convertData(n){if(n!=null){var r=new Date(n.match(/\d+/)[0]*1),t=r.getDate(),i=r.getMonth()+1,u=r.getFullYear();return t<10&&(t="0"+t),i<10&&(i="0"+i),t+"/"+i+"/"+u}return"-"}function convertToJSONDate(n){var t=new Date(n).getTime();return"/Date("+t+")/"}function inverterDataBR(n){var t=n.split("/");return new Date(t[1]+"/"+t[0]+"/"+t[2])}function s3aIniciarSessaoInfinita(){$.ajax({type:"GET",url:"/home/index",success:function(){setTimeout("s3aIniciarSessaoInfinita()",1e4)},contentType:"application/json; charset=utf-8",crossOrigin:!0,cache:!1})}function s3aContadorRegressivo(n){var i=$("#hidden_S3A_TempoRestante").val(),o=$("#hidden_S3A_TempoUR").val(),u,e,t,r,f;urlx=n+"GetAutorizacaoTempoRestante";u=$("#hidden_S3A_TK").val();u!=""&&(e={DscLogin:u},(i=="-99"||o>=parseInt(i)+60)&&$.ajax({type:"POST",url:urlx,data:JSON.stringify(e),success:function(n){$("#hidden_S3A_TempoRestante").val(n.TempoRestante);$("#hidden_S3A_TempoUR").val(n.TempoRestante)},dataType:"json",contentType:"application/json; charset=utf-8",crossOrigin:!0,cache:!1}),tempo=i,tempo-1>=0?(t=parseInt(tempo/60),r=Math.round(Number(tempo%60)),t<10&&(t="0"+t,t=t.substr(0,2)),r<=9&&(r="0"+r),horaImprimivel=t+":"+r,$("#CronometroSessao").html(horaImprimivel),setTimeout("s3aContadorRegressivo('"+n+"')",1e3),i--,$("#hidden_S3A_TempoRestante").val(i)):tempo==-99?setTimeout("s3aContadorRegressivo('"+n+"')",1e3):(f=$("#s3a_Btn_Sair")[0].href,f!=null&&(document.location.href=f)))}function RegisterLoad(){$(".btn").on("click",function(n){var t=$(this).attr("data-loading");t==null&&LoadScreen($(n).attr("href"))});$(".menu").on("click",function(n){LoadScreen($(n).attr("href"))});$(".form").submit(function(){var n=$(".field-validation-error");return n.length>0?(CloseLoad(),!1):!0})}function printPage(n,t,i,r){$("#FramPrint").length>0&&$("#FramPrint").remove();$("body").append('<iframe id="FramPrint" class="hide"><\/iframe>');window.frames.FramPrint.src="about:blank";var u=isIE()?window.frames.FramPrint:window.frames.FramPrint.contentWindow;$.post(n,typeof t!="undefined"?t:null,function(n){typeof i=="function"&&i(t,n);u.document.write(n);u.focus();setTimeout(function(){isIE()?u.document.execCommand("print",!1,null):u.print();CloseLoad();typeof r=="function"&&r(t,n)},2e3)})}function printHTML(n){$("#FramPrint").length>0&&$("#FramPrint").remove();$("body").append('<iframe id="FramPrint" class="hide"><\/iframe>');window.frames.FramPrint.src="about:blank";var t=isIE()?window.frames.FramPrint:window.frames.FramPrint.contentWindow;t.document.write(n);t.focus();setTimeout(function(){isIE()?t.document.execCommand("print",!1,null):t.print();CloseLoad()},2e3)}function LocalLoad(n,t){var i='<div class="text-center">';i+='       <div class="block m-b">';i+='           <i class="fa fa-spinner fa-2x fa-spin"><\/i>';i+="       <\/div>";i+="       <h3>"+t+"<\/h3>";i+="   <\/div>";$("#"+n).html(i)}function addButon(n,t){var i=$("[data-targetidhidden]").attr("data-targetidhidden"),r=$("[data-targetinputhidden]").attr("data-targetinputhidden"),u=$("td",n).length-1;$("td",n).eq(u).html('<button id="idBtnSelecionar" type="button" class="btn btn-primary" data-loading="false" onclick="selecionar(\''+i+"','"+r+"','"+t.IdeInstituicao+"','"+t.NomRazaoSocial+'\')"><li class="fa fa-check"><\/li> Selecionar<\/button>')}function selecionar(n,t,i,r){$("#"+n).val(i);$("#"+t).val(r);$("#Modalinstituicao").modal("hide");i!=1?$("#idUorg").hide(500):$("#idUorg").show(500);$("#UnDDL")&&(i!="1"?$("#UnDDL").hide(500):$("#UnDDL").show(500));CloseLoad()}function getFormData(n){var i=n.serializeArray(),t={};return $.map(i,function(n){t[n.name]=n.value}),t}function LoadScreen(n){$(".loading").attr("class","loading active");n&&$(window).load(n)}function CloseLoad(){$(".loading.active").attr("class","loading")}function ShowLoad(){$(".loading").attr("class","loading active")}function MaxLengthTextArea(){$("textarea[maxlength]").keypress(function(n){var t=n.which,i,r;(t>=32||t==13)&&(i=$(this).attr("maxlength"),r=this.value.length,r>=i&&n.preventDefault())});$("textarea[maxlength]").bind("keyup",function(){var n=$(this).attr("maxlength"),t=this.value.length;t>n&&$(this).val($(this).val().substring(0,n))})}function applyDataTable(n){$(n?n:".datatable-client").each(function(){var n=$(this),s=[],r=$(n).attr("data-column-disabled"),t,u,f,i,e,o;if(r!=null)for(t=0;t<r.split(",").length;t++)s.push({orderable:!1,targets:parseInt(r.split(",")[t])});u=[[0,"asc"]];f=$(n).attr("data-column-sort");f!=undefined&&(u=[[parseInt(f),"asc"]]);i=$(n).attr("data-ordering");i=i=="false"?!1:!0;e="full_numbers";$(n).attr("data-paging-type")!=null&&(e=$(n).attr("data-paging-type"));o=15;$(n).attr("data-display-length")!=null&&(o=parseInt($(n).attr("data-display-length")));$(n).dataTable({language:{url:"/Content/scripts/vendor/datatables/datatables.portuguese.txt"},pagingType:e,bLengthChange:!1,iDisplayLength:o,bFilter:!1,destroy:!0,order:u,ordering:i,fnDrawCallback:function(){$(".dataTables_info").parent().removeClass("col-xs-6").addClass("col-xs-5");$(".dataTables_paginate").parent().removeClass("col-xs-6").addClass("col-xs-7")},columnDefs:s})})}function Summernote(){$(".summernote").summernote({toolbar:[["style",["bold","italic","underline"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]]],height:200,oninit:function(){var n=$("#summer .btn");$.each(n,function(n,t){$(t).attr("data-loading","false")})}})}function isIE(){var n=window.navigator.userAgent,t=n.indexOf("MSIE ");return t>0?(console.log(parseInt(n.substring(t+5,n.indexOf(".",t)))),!0):(console.log("otherbrowser"),!1)}function BuildCustomUploadControll(){var i=$(".CustomUpload"),n,u;if(i.length>0)for(n=0;n<i.length;n++){var r=i.attr("data-button"),f=r!=null?r.split(",")[0]:"fa-save",e=r!=null?r.split(",")[1]:"Salvar",o='<form enctype="multipart/form-data" id="formUpload_'+n+'"><section class="panel panel-default">    <article class="panel-body"><span class="btn btn-lg btn-primary btn-file btn-primary slnFiles col-md-12" data-loading="false"><i class="fa fa-folder-open"><\/i> '+(isIE()?"Selecione...":"Arraste e solte arquivos aqui<br> ou selecione...")+'   <input type="file" id="inputUplad_'+n+'" name="CollectionFiles"><\/span><div class="line line-dashed b-b line-lg pull-in has-feedback"><\/div><table class="table-responsive table files" id="tableUplaod_'+n+'"><thead><tr><th class="col-md-2">Arquivo<\/th><th colspan="2">Progresso<\/th><\/tr><\/thead><tbody><\/tbody><\/table><\/article><footer class="panel-footer"><button type="button"  onclick="btnCustomFileUpload(this)" class="btn btn-primary processing disabled btnFileUploadPost"  data-loading="false"><i class="fa '+f+'"><\/i> '+e+"<\/button><\/footer><\/section><\/form>",t=$(i[n]);if(t.attr("data-controller")){t.html(o);u=$(t).find("input:file");u.on("change",function(){var n=$(this).parents(".CustomUpload"),r=1,s,f,i;n.attr("data-multiple")!=null&&parseInt(n.attr("data-multiple"))!=NaN&&(u.attr("multiple",""),r=parseInt(n.attr("data-multiple")));s="*";n.attr("data-extension-allow")!=null&&(s=n.attr("data-extension-allow"));f=1;n.attr("data-maxFile-Size")!=null&&parseInt(n.attr("data-maxFile-Size"))!=NaN&&(f=parseInt(n.attr("data-maxFile-Size")));var l=n.attr("data-controller"),o=$(this).attr("id").match(/\d+/g),h=$("#tableUplaod_"+o+" tr").length,e=new FormData,c=!1;for(i=0;i<$(this).get(0).files.length;i++)e.append("file"+i,$(this).get(0).files[i]),e.append("multiple"+i,r),e.append("extensionAllow"+i,s),e.append("maxFileSize"+i,f),$(this).get(0).files[i].size>=f*1048576&&(c=!0);r=1;t.attr("data-multiple")!=null&&parseInt(t.attr("data-multiple"))!=NaN&&(r=parseInt(t.attr("data-multiple")));h>=r?$(".slnFiles").addClass("hide"):$(".slnFiles").removeClass("hide");c?(app.callMsg("O tamanho do(s) arquivo(s) não pode(m) ser superior(es) à "+f+"Mb.","Erro"),$(".slnFiles").removeClass("hide")):$.ajax({type:"POST",url:"/"+l+"/GetCustomFileUpload",contentType:!1,processData:!1,data:e,success:function(n){function t(){h>=r?$(".slnFiles").addClass("hide"):$(".slnFiles").removeClass("hide")}n.erro?(app.callMsg(n.msg,"Erro"),n.files!=null?(GetProgress(o,n.files),t()):$(".slnFiles").removeClass("hide")):(GetProgress(o,n.files),t());$("#inputUplad_"+o).val("")},error:function(n,t,i,r){var u="Error  "+t+" "+i+" "+r;n.responseText&&n.responseText[0]=="{"&&(u=JSON.parse(n.responseText).Message);$(".slnFiles").removeClass("hide");app.callMsg("Erro Crítico: O arquivo que você está tentando enviar é superior ao tamanho máximo permitido em nossos servidores.","Erro")}})})}else app.callMsg("Configuração do controller não definida","Erro")}}function btnCustomFileUpload(n){var i=!0,t=$(n).parent().parent().parent().parent(),u=$(t).attr("data-controller"),r;$(t).attr("data-function-valid")!=null&&(i=window[$($(t)).attr("data-function-valid")]());i&&(r=$(t).find("form").serialize(),$.post("/"+u+"/GetFullInformationStreamFile",r,function(n){n.sucess?($(t).attr("data-function")!=null&&window[$(t).attr("data-function")](n),$(t).html(""),BuildCustomUploadControll(),app.callMsg(n.msg,"Sucesso")):app.callMsg(n.msg,"Alerta")}))}function GetProgress(n,t){function u(n,t){var i=$($(".CustomUpload")[n]),r=i.find("."+t),f=i.find(".progress_"+t+" p"),e=i.attr("data-controller");r&&e&&t?$.post("/"+e+"/GetProgressResult/"+t,null,function(t){if(t.processFail)app.callMsg(t.fileName,"Erro"),i.find(".processing").removeClass("disabled");else if(t.progressSize<t.totalSize){var e=t.progressSize/t.totalSize*100;$(r).attr("style","width:"+(e|0)+"%");$(f).html((e|0)+"%");i.find(".processing").addClass("disabled");u(n,t.index)}else t.progressSize==t.totalSize&&($(r).attr("style","width:100%"),$(f).html("100%"),i.find(".processing").removeClass("disabled"))}):(app.callMsg("Falha ao processar o arquivo, Tente novamente","Erro"),$(".processing").removeClass("disabled"),$(".slnFiles").removeClass("disabled"),$(".slnFiles").val(""))}for(var r,f=$("#tableUplaod_"+n+" tbody"),i=0;i<t.length;i++)$("#"+t[i].index).length==0&&(r="<tr id='"+t[i].index+'\'><td><div class="form-group has-feedback"> <p class="font-bold">'+t[i].fileName+'<\/p> <\/div><div class="form-group has-feedback">      <input class="form-control" name="NomeCustomFile" type="hidden" value="'+t[i].fileName+'">      <input class="form-control" name="IdCustomFile" type="hidden" value="'+t[i].index+'"> <\/div><\/td><td><div class="form-group"> <div class="col-sm-10">     <div class="progress">         <div class="bar bar-success progress-bar progress-bar-success '+t[i].index+'" style="width: 0%;"><\/div>     <\/div> <\/div> <div class="col-sm-2 progress_'+t[i].index+"\"><p class=\"form-control-static\"><\/p><\/div><\/div><\/td><td><a href='#' class='btn btn-sm btn-danger ' data-loading='false' onclick='RemoveFile(\""+n+'","'+t[i].index+"\");' title='Excluir'><i class='fa fa-trash-o'><\/i><\/a><\/td><\/tr>",$(f).append(r),setTimeout(u(n,t[i].index),0))}function RemoveFile(n,t){var i=$($(".CustomUpload")[n]),u=i.attr("data-controller"),r=1;i.attr("data-multiple")!=null&&parseInt(i.attr("data-multiple"))!=NaN&&(r=parseInt(i.attr("data-multiple")));$(".processing").removeClass("disabled");$.post("/"+u+"/DeleteCustomPostFile/"+t,null,function(){$("#"+t).remove();var n=i.find(" .files tbody tr").length;n==0&&i.find(".btnFileUploadPost").addClass("disabled");n>=r?$(".slnFiles").addClass("hide"):$(".slnFiles").removeClass("hide")})}function onlyNumber(n){return n.which!=8&&n.which!=0&&(n.which<48||n.which>57)?!1:!0}function applayOnlyNumber(){$(".onlyNumber").keypress(onlyNumber)}function range(n){if($(n.target).attr("data-min")&&$(n.target).attr("data-max")){var t=$(n.target).val()==""?0:$(n.target).val(),i=parseInt($(n.target).attr("data-min")),r=parseInt($(n.target).attr("data-max"));t>r?$(n.target).val(r):t<i&&$(n.target).val(i)}}function ApplayRange(){$(".range").blur(range)}function SetDatePik(){$(".datePick").datepicker()}function SetMask(){$(".mask").each(function(){var n=$(this).attr("data-mask");$(this).mask(n)});$(".maskReal").each(function(){var n=$(this).attr("data-mask");$(this).mask(n,{placeholder:"0,00",reverse:!0})})}function onlyNumberComma(n){return n.which!=8&&n.which!=0&&[44,48,49,50,51,52,53,54,55,56,57].indexOf(n.which)==-1?!1:!0}function ConfigSicNetField(){$(".validaSicNet").sicnet()}function VerificaConsulta(n){var t;if($(n).val()!="")t=$(n).attr("data-function"),t?window[t]()&&BuscarProtocolo(n):BuscarProtocolo(n);else{var i=$(n).parent(),r=$(n).next("fn-find"),u=$(n).next("fn-close");i.removeClass("has-success");i.removeClass("has-error");r.addClass("hide");u.removeClass("hide")}}function carregarDocumento(n){var t=$(n).parent().find(".validaSicNet").attr("data-url");$("#divConteudo").attr("src",t)}function carregarDocumentoUrl(n){var t=$(n).attr("data-url");$("#divConteudo").attr("src",t)}function BuscarProtocolo(n){if($(n).context){var t=$(n),u=$(n).parent(),e=$(n).attr("data-targetHidden"),f=$(n).attr("data-controller"),i=$(n).next().next(),r=$(n).next();t.val()!=""?$.post("/"+f+"/ValidaNumProcessoDocumento/",{data:t.val()},function(f){f.OK?f.protocolo.Mensagem?(t.val(""),$(n).attr("data-url","")):f.protocolo.Url&&(u.removeClass("has-error").addClass("has-success"),i.removeClass("hide"),r.addClass("hide"),$(n).attr("data-url",f.protocolo.Url),$(n).val(f.protocolo.NumeroProtocolo)):(app.callMsg("<b>Protocolo Inválido:<\/b><br>"+f.MSG,"error"),u.removeClass("has-success").addClass("has-error"),i.addClass("hide"),r.removeClass("hide"),$(n).attr("data-url",""),$(n).val(""))}):(i.addClass("hide"),r.addClass("hide"),$(n).attr("data-url",""),$(n).val(""))}CloseLoad()}function FormatMaskReal(n){return formatReal(getMoney(n.toFixed(2).toString()))}function formatReal(n){var t=n+"";return t=t.replace(/([0-9]{2})$/g,",$1"),t.length>9?t=t.replace(/([0-9]{3})([0-9]{3}),([0-9]{2}$)/g,".$1.$2,$3"):t.length>6&&(t=t.replace(/([0-9]{3}),([0-9]{2}$)/g,".$1,$2")),t}function getMoney(n){return parseInt(n.replace(/[\D]+/g,""))}function FormatMaskPercent(n){return formatPercent(n)}function formatPercent(n){var t=n+"";return n<10&&(t="0"+n),n==100&&(t="100.00"),t.replace(".",",")}function setCheckAll(){$(".checkall").on("click",function(){$(this).closest("table").find(":checkbox").prop("checked",this.checked)});$(".checkrow").on("click",function(){$(this).closest("tr").find(":checkbox").prop("checked",this.checked)});$(".checkcol").on("click",function(){$(this).closest("table").find("."+$(this).data("check")).prop("checked",this.checked)})}var urlServicoContador,app,dtMain;if(jQuery.fn.dataTable&&$.extend(!0,jQuery.fn.dataTable.defaults,{dom:"<'row m-n p-n'<'col-xs-6 m-n p-n'l><'col-xs-6 m-n p-n'f>r><'scroll-x't><'row m-n p-n'<'col-xs-6 m-n p-n'i><'col-xs-6 m-n p-n'p>>",language:{sEmptyTable:"Nenhum registro encontrado",sInfo:"Mostrando de _START_ até _END_ de _TOTAL_ registros",sInfoEmpty:"Mostrando 0 até 0 de 0 registros",sInfoFiltered:"(Filtrados de _MAX_ registros)",sInfoPostFix:"",sInfoThousands:".",sLengthMenu:"_MENU_ resultados por página",sLoadingRecords:"Carregando...",sProcessing:"Processando...",sZeroRecords:"Nenhum registro encontrado",sSearch:"Pesquisar",oPaginate:{sNext:"Próximo",sPrevious:"Anterior",sFirst:"Primeiro",sLast:"Último"},oAria:{sSortAscending:": Ordenar colunas de forma ascendente",sSortDescending:": Ordenar colunas de forma descendente"}}}),$.fn.datepicker&&$.extend(!0,$.fn.datepicker.defaults,{format:"dd/mm/yyyy",language:"pt-BR",todayHighlight:!0}),$("#hidden_notificacoes_Sistema").length>=1){var urlServico=$("#hidden_notificacoes_Servico").val(),idUsuario=$("#hidden_notificacoes_Usuario").val(),idSistema=$("#hidden_notificacoes_Sistema").val(),idUORG=$("#hidden_notificacoes_UORG").val(),idInstituicao=$("#hidden_notificacoes_Instituicao").val();idInstituicao==""&&(idInstituicao=null);idUORG==""&&(idUORG=null);urlServico!=""&&(RecuperarQtdNotificacoes(idSistema,idUsuario,urlServico,idUORG,idInstituicao),setInterval(function(){RecuperarQtdNotificacoes(idSistema,idUsuario,urlServico,idUORG,idInstituicao)},5e3))}$("#hidden_S3A_TempoRestante").length>=1&&(urlServicoContador=$("#hidden_s3a_Contador_Servico").val(),s3aContadorRegressivo(urlServicoContador));$("#hidden_S3A_isinfinity").val()=="true"&&setTimeout("s3aIniciarSessaoInfinita()",1e4);$(document).ready(function(){function f(){var n=$(".nav.nav-tabs li.active"),t=$(n).parent().children(),i=$(t).index(n)+1;return r=i/t.length*100}function u(n){n.length>0&&n.find("a").tab("show")}function o(){if(i){var n=f();$(".progress-bar.bg-success").width(n+"%")}}var n,t,i,r,e;BuildCustomUploadControll();RegisterLoad();MaxLengthTextArea();Summernote();$.ajaxSetup({cache:!1});$(".modal").attr("data-keyboard",!1);$(".modal").attr("data-backdrop","static");$(".btnPesquisar").click(function(){var n=$(".datatable[data-crud]").attr("id");n!=null&&($("#"+n+" tr").length>0?$("#"+n).dataTable().fnDraw():dtMain.create(n))});$(".datatable[data-btnSubmit]").each(function(){var t=$(this),n=t.attr("id"),i=t.attr("data-btnSubmit");$("#"+i).on("click",function(){$("#"+n+" tr").length>0?$("#"+n).dataTable().fnDraw():dtMain.create(n)})});n=$(".datatable[data-crud]").attr("id");n!=null&&dtMain.searchExist(n)&&(LoadScreen(),dtMain.create(n));app.typeahead&&app.typeahead();app.perfilAcesso&&app.perfilAcesso();t=!1;$(".nav.nav-tabs li a").on("shown.bs.tab",function(n){var i=$(n.target).parent(),r=$(n.relatedTarget).parent(),s=$(".nav.nav-tabs li").index(i),h=$(".nav.nav-tabs li").index(i),o=!0,f,e;t||$(r).attr("data-function")==null||(o=window[$(r).attr("data-function")](r,i));t=!1;$(i).attr("data-hide-controll")!=null?$(".controll-wizard").hide():$(".controll-wizard").show();o?(f=$(n.target).parent().prev(),e=$(n.target).parent().next(),e.length>0&&f.length>0?($(".button-previous").removeClass("hide"),$(".button-next").removeClass("hide")):e.length==0?($(".button-previous").removeClass("hide"),$(".button-next").addClass("hide")):f.length==0&&($(".button-previous").addClass("hide"),$(".button-next").removeClass("hide"))):(u($(n.relatedTarget).parent()),t=!0)});i=$(".panel-body div[data-progress]").length>0;i&&(r=f(),e='<div class="progress-bar bg-success" style="width: '+r+'%"><\/div>',$(".panel-body div[data-progress]").addClass("progress progress-xs m-t-md"),$(".panel-body div[data-progress]").html(e));$(".button-next").on("click",function(){var n=$(".nav.nav-tabs li.active").next();u(n);o()});$(".button-previous").on("click",function(){var n=$(".nav.nav-tabs li.active").prev();u(n);o()});$(".cpf").mask("000.000.000-00",{placeholder:"___.___.___-__"});$(".cnpj").mask("00.000.000/0000-00",{placeholder:"__.___.___/____-__"});$(".numero-processo").mask("00000.000000/0000-00",{placeholder:"_____.______/____-__"});$(".data-valid").on("blur",function(){var u=$(this).val(),o,n,s,h,t,r;if(u!=null&&u!="")if(o=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/,n=u,n.match(o)){s=n.split("/");h=n.split("-");s.length>1?t=n.split("/"):h.length>1&&(t=n.split("-"));var f=parseInt(t[0]),i=parseInt(t[1]),e=parseInt(t[2]);if((i==1||i>2)&&f>[31,28,31,30,31,30,31,31,30,31,30,31][i-1]||i==2&&((r=!1,(e%4||!(e%100))&&e%400||(r=!0),r==!1&&f>=29)||r==!0&&f>29))return app.callMsg("O período informado é invalido","Erro"),!1}else return app.callMsg("O período informado é invalido","Erro"),!1})});app={resetValidation:function(n){$((n?n:"")+".input-validation-error").addClass("input-validation-valid");$((n?n:"")+".input-validation-error").removeClass("input-validation-error");$((n?n:"")+".field-validation-error").addClass("field-validation-valid");$((n?n:"")+".field-validation-error").removeClass("field-validation-error");$((n?n:"")+".validation-summary-errors").addClass("validation-summary-valid");$((n?n:"")+".validation-summary-errors").removeClass("validation-summary-errors")},playCapcha:function(){var n=$("#imgCaptchaLogin").attr("src").split("=")[1];n=decodeURI(n);$.post("/Account/getCap",{capcha:n},function(n){$(".playCap").html("");for(var t=0;t<n.cap.length;t++)$(".playCap").append('<audio class="captchaAudio" id="'+n.cap[t]+'" src="/Content/audio/'+n.cap[t]+'.mp3"><\/audio>');app.ListenerCaptcha(0)})},ListenerCaptcha:function(n){var t=$(".captchaAudio")[n];t!=null&&setTimeout(function(){t.play();app.ListenerCaptcha(n+1)},1200)},typeahead:function(n){$(n?n:".typeahead").each(function(){var n=$(this),i=null,t=parseBool(n.attr("data-typeahead-hint")||!1),r=parseBool(n.attr("data-typeahead-any")||!0);n.typeahead({minLength:3,hint:t},{source:function(t,i){$.get(n.attr("data-url"),{text:n.val()},function(t){i($.map(t,function(t){return{value:t[n.attr("data-value")],data:t}}));n.next().next().addClass("tt-dropdown-menu")})}}).on("typeahead:selected",function(t,r){i=r.data;var u;try{u=Object.resolve(null,n.attr("data-typeahead-change")||n.attr("data-function"))}catch(f){}"function"==typeof u&&u(r.data,n)});n.change(function(){r||n.typeahead("val","");var t;try{t=Object.resolve(null,n.attr("data-typeahead-change"))}catch(i){}"function"==typeof t&&t(undefined,n)});t&&n.addClass("no-border-tt")})},destroyTypeahead:function(n){$(n?n:".typeahead").each(function(){var n=$(this);n.typeahead("destroy");n.removeClass("no-border-tt")})},callMsg:function(n,t,i,r){switch(t){case"Alerta":toastr.warning(n,"");break;case"Sucesso":toastr.success(n,"");break;case"Confirmacao":bootbox.confirm({title:"Confirmação",message:n,buttons:{cancel:{label:"Não"},confirm:{label:"Sim"}},callback:function(n){if(i!==null&&n)if(r!==undefined)if(r.split){var t=r.split(",");window[i].apply(this,t)}else window[i](r);else window[i]()}});break;case"Erro":toastr.error(n,"");break;case"Error":toastr.error(n,"");break;case"Informacao":toastr.info(n,"");break;default:toastr.warning(n,"")}},perfilAcesso:function(){$(".perfil-acesso").addClass("disabled");var n=$("a.perfil-acesso.disabled");$.each(n,function(n,t){var u=$(t).attr("href"),i,r;u!=null&&(i=$.trim(u).substr(1).toLowerCase().replace("/","-"),r=i.indexOf("/"),r==-1&&(r=i.indexOf("?")),r>0&&(i=i.substr(0,r)),$(t).addClass(i))});acoesPermitidas!=null&&acoesPermitidas.length>0&&$.each(acoesPermitidas,function(n,t){var i=$.trim(t).substr(1).toLowerCase().replace("/","-");$(".perfil-acesso."+i).removeClass("disabled")});$(".perfil-acesso.disabled").attr("onclick","javascript:return false;");$("a.perfil-acesso.disabled").attr("href","#");$("a.perfil-acesso.disabled").attr("data-loading","false")},StringToDate:function(n){if(n){var t=n.split("/");return new Date(parseInt(t[2]),parseInt(t[1])-1,parseInt(t[0]))}return n},convertDateJsonToString:function(n){return n!=null&&n!=""&&n.indexOf("/Date")!=-1?moment((new Date).setTime(n.replace(/[^0-9]/g,""))).format("DD/MM/YYYY"):n},convertDatetimeJsonToString:function(n){return n!=null&&n!=""&&n.indexOf("/Date")!=-1?moment((new Date).setTime(n.replace(/[^0-9]/g,""))).format("DD/MM/YYYY HH:mm:ss.SSS"):n},isXml:function(n){var t=n instanceof Object||n instanceof Array,i;return t||(n.indexOf("<!DOCTYPE html>")==-1?(i=$.parseJSON(n),t=i instanceof Object||i instanceof Array):t=!1),!t},ajaxTransfer:function(n,t,i,r,u,f){$.ajax({url:n,type:t,data:i,dataType:r,contentType:u!=undefined?u:"application/x-www-form-urlencoded; charset=UTF-8",success:function(n){app.isXml(n)?$("html").html(n):f&&f(n)},error:function(n,t,i){if(CloseLoad(),app.isXml(n.responseText))$("html").html(n.responseText);else{var r="Status: "+t+"<br /><br />Error: "+i;app.callMsg(r,"Erro")}}})}};dtMain={create:function(n){var t=dtMain.configure(n);dtMain.load(t)},searchExist:function(n){var i=!1,t=$("#"+n).attr("data-controller"),u=$("#"+n).attr("data-action"),r="/"+(t.split("/").length>1?t.split("/")[1]+"/BuscarPaginacao":t+"/BuscarPaginacao"),f=t.split("/").length>1?t:"/"+t+"/Pesquisar";return t!=null&&$.ajax({url:r,success:function(n){i=n!=null&&n!=""&&n.iDisplayStart!=-1},async:!1}),i},configure:function(n){var i=$("#"+n),f;$(i).attr("cellspacing","0");$(i).attr("width","100%");var t={datatable:$(i).attr("id"),formId:$(i).attr("data-form-id"),objectId:$(i).attr("data-object-id"),controller:$(i).attr("data-controller"),columnsData:$(i).attr("data-columns-data"),columnsTitle:$(i).attr("data-columns-title"),columnsClass:$(i).attr("data-columns-class")||"",sortDirection:$(i).attr("data-default-sort-direction")||"asc",dataColumnSort:$(i).attr("data-column-sort")||"0",functionDelete:$(i).attr("data-function-delete"),functionAction:$(i).attr("data-function-action"),functionColumn:$(i).attr("data-function-column"),functionCallback:$(i).attr("data-function-callback"),functionRow:$(i).attr("data-function-row"),columnsDetail:$(i).attr("data-columns-detail"),pagingType:$(i).attr("data-paging-type"),displayLength:$(i).attr("data-display-length"),crud:$(i).attr("data-crud")!=null?$(i).attr("data-crud"):"false",columnCheckallFirst:$(i).attr("data-column-checkall-first")},s=t.sortDirection,h=t.dataColumnSort,r=[],e=[],u=[parseInt(h),s],c=t.columnsData.split(","),l=t.columnsTitle.split(","),o=t.columnsClass.split(",");return t.columnsDetail!=null&&t.columnsDetail=="true"&&(r.push({title:"",data:null,orderable:!1,defaultContent:"",className:"details-datatable"}),u[0]=1),t.columnCheckallFirst!=null&&t.columnCheckallFirst!=""&&(r.push({title:'<label class="checkbox m-n i-checks"><input type="checkbox" class="checkall" id="'+t.columnCheckallFirst+'"><i><\/i><\/label>',data:null,orderable:!1,defaultContent:""}),u[0]=1),c.forEach(function(n,t){r.push({data:$.trim(n),title:$.trim(l[t])})}),t.functionColumn!=null&&(f={columns:r,aaSorting:u},f=window[t.functionColumn](f),r=f.columns,u=f.aaSorting),t.crud=="true"&&(r.push({data:null,title:"Ações",width:10,orderable:!1}),e.push({targets:r.length-1,render:function(n,i,r){var f=r[t.objectId],e=t.functionDelete==null?"":t.functionDelete+"("+f+");",u='<a href="/'+t.controller+"/Alterar/"+f+'" class="btn btn-sm btn-default '+t.controller.toLowerCase()+'-alterar" title="Alterar"><i class="fa fa-pencil"><\/i><\/a>&nbsp;<a href="/'+t.controller+"/Visualizar/"+f+'" class="btn btn-sm btn-default '+t.controller.toLowerCase()+'-visualizar" title="Visualizar"><i class="fa fa-eye"><\/i><\/a>&nbsp;<a href="#" class="btn btn-sm btn-danger '+t.controller.toLowerCase()+'-excluir" data-loading="false" onclick="'+e+'" title="Excluir"><i class="fa fa-trash-o"><\/i><\/a>&nbsp;';return t.functionAction!=null&&(u=window[t.functionAction](n,u)),$("#"+t.formId).append('<div id="crudAcoes" class="hide" >'+u+"<\/div>"),$("#crudAcoes a").addClass("disabled"),$.each(acoesPermitidas,function(n,t){var i=t.substr(1).toLowerCase().replace("/","-");$("#crudAcoes a."+i).removeClass("disabled")}),$("#crudAcoes a.disabled").attr("data-loading","false"),$("#crudAcoes a.disabled").removeAttr("onclick"),$("#crudAcoes a.disabled").removeAttr("href"),u=$("#crudAcoes").html(),$("#crudAcoes").remove(),u}})),r.forEach(function(n,t){o[t]&&(n.className=(n.className||"")+" "+o[t])}),t.columns=r,t.aaSorting=u,t.columnDefs=e,t},load:function(n){var r=0,u=n.aaSorting,e="/"+(n.controller.split("/").length>1?n.controller.split("/")[1]+"/BuscarPaginacao":n.controller+"/BuscarPaginacao"),o=n.controller.split("/").length>1?n.controller:"/"+n.controller+"/Pesquisar",t,f,i,s;$.ajax({url:e,async:!1,success:function(n){n!=null&&n!=""&&n.iDisplayStart!=-1&&(u=[n.iSortCol_0,n.sSortDir_0],r=n.iDisplayStart)}});t="full_numbers";f=$(window).width();f<1280&&(t="simple_numbers");n.pagingType!=null&&(t=n.pagingType);i=15;n.displayLength!=null&&(i=parseInt(n.displayLength));s=$("#"+n.datatable).dataTable({bServerSide:!0,sAjaxSource:o,bProcessing:!0,bRetrieve:!0,bFilter:!1,sServerMethod:"POST",iDisplayLength:i,bLengthChange:!1,pagingType:t,iDisplayStart:r,aaSorting:[u],language:{url:"/Content/scripts/vendor/datatables/datatables.portuguese.txt"},fnServerParams:function(t){var i="",u=$.grep(this.dataTableSettings,function(t){if(t.sTableId==n.datatable)return t}),r;u.forEach(function(n){n.aoColumns.forEach(function(n){n.data!=null&&(i!=""&&(i+=";"),i+=n.data)})});t.push({name:"sColumns",value:i});$("#"+n.formId).serialize()!=""&&(r=$("#"+n.formId).serialize().split("&"),r.forEach(function(i){var e=i.split("="),r=e[0],u=null,o,f;r.split(".").length>1?(o=r.split(".")[r.split(".").length-1],u=$("#"+n.formId+" [id="+o+"]")):u=$("#"+n.formId+" [name="+r+"]");f=$(u).val();$(u).prop("type")=="radio"&&(f=e[1]);t.push({name:r,value:f})}))},fnDrawCallback:function(t){t.aoData.length==0?t.json.oMsg!=null?t.json.oMsg.msg.descricao!=null&&t.json.oMsg.msg.descricao!=""&&app.callMsg(t.json.oMsg.msg):app.callMsg("Nenhum registro encontrado.","Alerta",null,null):$("div.datatable").addClass("show");n.functionCallback!=null&&t.json.oItem!=null&&window[n.functionCallback](t.json.oItem);$(".dataTables_info").parent().removeClass("col-xs-6").addClass("col-xs-5");$(".dataTables_paginate").parent().removeClass("col-xs-6").addClass("col-xs-7");RegisterLoad();CloseLoad()},createdRow:function(t,i,r){if(n.crud){var u=$("td",t).length-1;$("td",t).eq(u).addClass("text-left text-nowrap")}n.functionRow!=null&&window[n.functionRow](t,i,r)},columns:n.columns,columnDefs:n.columnDefs})}};$(".onlyNumber").keypress(onlyNumber);$(".range").blur(range);SetDatePik();$(function(){SetMask()});jQuery.extend(jQuery.validator.methods,{date:function(n,t){return this.optional(t)||/^\d\d?\/\d\d?\/\d\d\d?\d?$/.test(n)},number:function(n,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:\.\d{3})+)(?:,\d+)?$/.test(n)},range:function(n,t,i){return Globalize.parseFloat(n)>=Globalize.parseFloat(i[0])&&Globalize.parseFloat(n)<=Globalize.parseFloat(i[1])}});$.fn.sicnet=function(){for(var r,i=arguments.length<1?!0:!!arguments[0],t=0;t<this.length;t++){var u=this[t],n=$(u),f=n.data("sicnet-control");f?i||(n.unmask(),n.unbind("blur",$.fn.sicnet.blur),n.next(".fn-close").remove(),n.next(".fn-find").remove(),n.removeData("sicnet-control"),n.parent().removeClass("has-success").removeClass("has-error")):i&&(n.mask("99999.999999/9999-99"),n.bind("blur",$.fn.sicnet.blur),r='<span class="btn btn-link form-control-feedback fn-close" data-loading="false" style="cursor:not-allowed">  <i class="fa fa-times"><\/i><\/span><span class="btn btn-link form-control-feedback hide fn-find" data-toggle="modal" data-target="#ModalDocumento" onclick="carregarDocumento(this)" data-loading="false">  <i class="fa fa-search text-muted "><\/i><\/span>',n.after(r),n.data("sicnet-control",!0),n.val()!=""&&VerificaConsulta(n))}};$.fn.sicnet.blur=function(){VerificaConsulta(this)};ConfigSicNetField(),function(n,t,i,r){var u=1,f=n.uniqueId=function(){return u+++(Math.random()+"").replace(".","")};(function(){var t=null,s=n.cedocModal=function(n){n=$.extend({},{data:[],allowedIdcNorma:[]},n);$.isArray(n.allowedIdcNorma)||(n.allowedIdcNorma=[n.allowedIdcNorma]);var t,u=n.allowedIdcNorma.filter(function(n){return typeof n=="number"}),f=n.allowedIdcNorma.filter(function(n){return typeof n=="string"});o(function(o,s,h,c,l){i.body.appendChild(s[0]);n.allowedIdcNorma.length>0&&c.find("#IdcNorma option").filter(function(t,i){return i.value!=""&&n.allowedIdcNorma.indexOf(parseInt(i.value))==-1&&n.allowedIdcNorma.indexOf(i.text)==-1}).addClass("hide");n.title!=null&&s.find("#title.modal-title").text(n.title);s.find("#DthAssinaturaNorma").datepicker({format:"dd/mm/yyyy",language:"pt-BR",todayHighlight:!0});s.find("#DthPublicacaoNorma").datepicker({format:"dd/mm/yyyy",language:"pt-BR",todayHighlight:!0});l.click(function(){PushLoad();$.ajax({data:JSON.stringify($.extend(c.serializeObject(),{allowedIdcNorma:u,allowedDscNorma:f})),contentType:"application/json",type:"POST",url:"/Cedoc/PesquisarDocumentos",success:function(n){PopLoad();n.ok?(n.item.forEach(function(n){n.DthAssinaturaNorma=parseDate(n.DthAssinaturaNorma);n.DthPublicacaoNorma=parseDate(n.DthPublicacaoNorma)}),e(h,n.item)):app.callMsg(n.msg)},error:function(n){PopLoad();app.ajaxError(n)}})});h.on("click",".btn.action-select",function(){var n=$(this),i=n.closest("tr"),r=h.DataTable().row(i).data();t=r;s.modal("hide")});$.validator.unobtrusive.parse(c);s.on("show.bs.modal",function(){t=r});s.on("hidden.bs.modal",function(){n.callback&&n.callback(t);s.remove()});if(e(h),n.onload)n.onload({form:c[0]});s.modal()},n)},o=function(r){var e=function(t){var h=$(t.firstChild),u=f(),i=n.$modal=h.find("#____MODAL____"),e=n.$grid=i.find("#____GRID____"),o=n.$form=i.find("#____FORM____"),s=n.$submit=i.find("#____SUBMIT____");i.attr("id","MODAL_"+u);e.attr("id","GRID_"+u);o.attr("id","FORM_"+u);s.attr("id","BTN_"+u);r(t,i,e,o,s)},u;t?e(t.cloneNode(!0)):(PushLoad(),u=i.createDocumentFragment(),u.appendChild(i.createElement("div")),$(u.firstChild).load("/Cedoc/ModalTemplate",function(n,i,r){if(i=="error"){$.ajaxError(r);return}e(u.cloneNode(!0));t=u;PopLoad()}))},u=function(n,t){switch(t){case"filter":case"type":case"sort":return n;case"display":return Globalize.format(n,"d")}},e=function(n,t){var i=!1;n.dataTable({data:t,columns:[{data:"DscTituloNorma"},{data:"NumNorma"},{data:"AnoNorma"},{data:"DthAssinaturaNorma",render:u},{data:"DthPublicacaoNorma",render:u},{defaultContent:'<a class="btn btn-primary action-select"><i class="fa fa-check"><\/i> Selecionar<\/a>',orderable:!1}],language:{url:"/Content/scripts/vendor/datatables/datatables.portuguese.txt"},pagingType:"simple_numbers",bLengthChange:!1,iDisplayLength:5,bFilter:!1,destroy:!0,fnDrawCallback:function(){$(".dataTables_info").parent().removeClass("col-xs-6").addClass("col-xs-5");$(".dataTables_paginate").parent().removeClass("col-xs-6").addClass("col-xs-7")},columnDefs:[{orderable:i==null?!0:!1,targets:i==null?0:parseInt(i)}]})}})()}(this.window,this.window,this.window.document);datepickerFormatToGlobalize=function(n){return n.replace(/(dd|d|DD|D|mm|m|MM|M|yyyy|yy)/g,function(n){switch(n){case"D":return"\\ddd";case"DD":return"\\dddd";case"m":return"\\M";case"mm":return"\\MM";case"M":return"\\MMM";case"MM":return"\\MMMM";default:return"\\"+n}})};formatCnpj=function(n){if(!(typeof n=="string"))return n;var t=n.replace(/\D/g,"");return t.length!=14?n:t.slice(0,2)+"."+t.slice(2,5)+"."+t.slice(5,8)+"/"+t.slice(8,12)+"-"+t.slice(12,14)};formatCpf=function(n){if(!(typeof n=="string"))return n;var t=n.replace(/\D/g,"");return t.length!=11?n:t.slice(0,3)+"."+t.slice(3,6)+"."+t.slice(6,9)+"-"+t.slice(9,11)},function(n){function t(n){var t=$(this),u=t.attr("data-events-redirect-destiny"),i=t.attr("data-events-redirect-selector"),r=t;u.trim()&&(typeof i=="string"&&i.trim()&&(r=$(i),r.length==0)||(r.trigger(u,n),n.preventDefault()))}n.applyRedirectEvents=function(){var n=$("[data-events-redirect][data-events-redirect-destiny]");n.each(function(n,i){var r=$(i),u=r.attr("data-events-redirect").split(/\s+/).filter(function(n){return!!n});u.length!=0&&u.forEach(function(n){r.off(n,t);r.on(n,t)})})};n.applyRedirectEvents()}(this.window,this.window,this.document);
//# sourceMappingURL=customs.min.js.map
